# Explanatory file.
# Usage:
#   python main.py sample spectra_sample.yaml -v

# Output folder (str)
output: output/spectra/sample

# Number of samples to generate (int)
n_samples: 10

# Spacing method (str).
# Options: evaluate, grid, log_grid, random_uniform, random_normal,
# latin_hypercube. In evaluate mode, it will evaluate the pipeline at a
# single point specified by the value of ref for each parameter
# (otherwise ref is ignored).
spacing: latin_hypercube
# Extra arguments for the spacing method. For now only latin_hypercube
# accepts a seed to ensure deterministic results.
spacing_args:
  seed: 12

# Name of the function to be sampled. It has to be one of the functions
# defined in src/emu_like/sampling_functions.py. All of them should have
# the same structure:
#   - input:
#     - x: array of input data (one sample)
#     - x_names: list of names for each x element
#     - params: dictionary of the arguments needed
#     - model (optional): used in some function to store the
#         evaluation and avoid duplicating the calculations
#     - extra_args (optional): if the function called needs
#         other arguments put them here
#   - output:
#     - y: list of arrays of output data (one for each element of y_fnames)
#     - y_names: list of list of names for yeach y and y_names
#     - y_fnames: list of file names to divide the output
#     - model: if necessary to propagate model to the following steps
# Current options: linear_1d, quadratic_1d, gaussian_1d, linear_2d,
# quadratic_2d, cobaya_loglike, class_spectra.
sampled_function: class_spectra

# Extra arguments needed by the sampled function.
sampled_function_args:
  # List of outputs (each ones requires specific settings: k_min, k_max, ...)
  output:
    pk_m:
      k_min: 1.e-5
      k_max: 1.
      k_space: 'log'
      k_num: 600
    pk_cb:
      k_min: 1.e-4
      k_max: 2.
      k_space: 'log'
      k_num: 600
    # pk_weyl:
    #   k_min: 1.e-4
    #   k_max: 1.
    #   k_space: 'log'
    #   k_num: 600
    # cl_TT:
    #   ell_max: 2500
    # cl_EE:
    #   ell_max: 2500
    # cl_TE:
    #   ell_max: 2500
    # cl_pp:
    #   ell_max: 2500
    # cl_Tp:
    #   ell_max: 2500
    # cl_Ep:
    #   ell_max: 2500
    # cl_TT_lensed:
    #   ell_max: 2500
    # cl_EE_lensed:
    #   ell_max: 2500
    # cl_TE_lensed:
    #   ell_max: 2500
    # cl_pp_lensed:
    #   ell_max: 2500
    # cl_Tp_lensed:
    #   ell_max: 2500
    # cl_Ep_lensed:
    #   ell_max: 2500

  extra_args:
    # Extra arguments passed to class
    N_ur: 2.0308
    N_ncdm: 1
    m_ncdm: 0.06

# List of parameterss.
params:
  # If spacing grid, log_grid, random_normal or latin_hypercube use (min, max)
  # If spacing random_uniform use (loc, scale), with loc=mean and scale=sigma.
  z_pk:
    prior:
      min: 0.
      max: 5.
  h:
    prior:
      min: 0.5
      max: 0.9
